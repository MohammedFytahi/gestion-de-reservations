<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Centre de Fitness - Réservations</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>Centre de Fitness - Réservations</h1>
        <button id="logout-button">Déconnexion</button> <!-- Logout button -->
    </header>
    <main>
        <section id="réservation">
            <h2>Activités Disponibles</h2>
            <ul id="activités-disponibles">
                <!-- Les activités disponibles seront listées ici -->
            </ul>
        </section>
        <section id="favoris">
            <h2>Mes Favoris</h2>
            <ul id="liste-favoris">
                <!-- Les favoris seront listés ici -->
            </ul>
        </section>
        <section id="panier">
            <h2>Mon Panier</h2>
            <ul id="liste-panier">
                <!-- Le panier sera listé ici -->
            </ul>
            <button id="finaliser-reservation">Finaliser Réservation</button>
        </section>

        <section id="mes-reservations">
            <h2>Mes Réservations</h2>
            <ul id="liste-reservations-utilisateur">
                <!-- Les réservations de l'utilisateur seront listées ici -->
            </ul>
        </section>

        <section id="admin" style="display:none;">
            <h2>Ajouter une Nouvelle Activité</h2>
            <form id="ajout-activite-form">
                <label for="nom">Nom:</label>
                <input type="text" id="nom" name="nom" required>
                <br>
                <label for="description">Description:</label>
                <input type="text" id="description" name="description" required>
                <br>
                <label for="type">Type:</label>
                <input type="text" id="type" name="type" required>
                <br>
                <label for="placesDisponibles">Places Disponibles:</label>
                <input type="number" id="placesDisponibles" name="placesDisponibles" required>
                <br>
                <button type="submit">Ajouter Activité</button>
            </form>
        </section>

        <section id="reservations" style="display:none;">
            <h2>Réservations des Utilisateurs</h2>
            <ul id="liste-reservations">
                <!-- Les réservations seront listées ici -->
            </ul>
        </section>
    </main>
    <script src="script.js"></script>
    <script>
        document.getElementById('logout-button').addEventListener('click', function() {
            fetch('php/logout.php')
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        localStorage.removeItem('user_id'); // Remove user_id from localStorage
                        localStorage.removeItem('user_role'); // Remove user_role from localStorage
                        alert('Déconnexion réussie!');
                        window.location.href = 'login.html'; // Redirect to login page
                    } else {
                        alert('Erreur lors de la déconnexion.');
                    }
                })
                .catch(error => {
                    console.error('Erreur:', error);
                    alert('Erreur lors de la déconnexion.');
                });
        });
    </script>
</body>
</html>
